#!/bin/bash

set -eux
date
DIR="$(dirname `readlink -f $0`)"
TARGET="${DIR}/deployment_scripts/puppet/modules/onos/files"
ONOS_TAR=${ONOS_TAR:-onos-1.3.0.tar.gz}
JDK_TAR=${JDK_TAR:-jdk-8u51-linux-x64.tar.gz}
REPO_TAR=${REPO_TAR:-repository.tar}

##### Temporary solution to download fast

#ONOS=${ONOS:-http://downloads.onosproject.org/release/onos-1.3.0.tar.gz}
ONOS=${ONOS:-http://192.168.212.18:9999/onos-1.3.0.tar.gz}
#JDK=${JDK:-http://download.oracle.com/otn-pub/java/jdk/8u65-b17/jdk-8u65-linux-x64.tar.gz}
JDK=${JDK:-http://192.168.212.18:9999/jdk-8u51-linux-x64.tar.gz}
REPO=${REPO:-http://192.168.212.18:9999/repository.tar}
cd $TARGET
if [ ! -f "$ONOS_TAR" ]; then
  wget --no-cookies $ONOS -P $TARGET
fi

if [ ! -f "$JDK_TAR" ]; then
  wget --no-cookies --header "Cookie: oraclelicense=accept-securebackup-cookie;" $JDK -P $TARGET
fi

if [ ! -f "$REPO_TAR" ]; then
  wget --no-cookies $REPO -P $TARGET
fi
date
